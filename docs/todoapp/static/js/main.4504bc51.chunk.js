(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{19:function(t,e,o){},21:function(t,e,o){"use strict";o.r(e);var r,n,i,c,a,u,s,p,l,b,d,j,O,y,m,f,h,v,g,L,w,C,I,x,A,k,S,D,B,P,V,T,z,E,F,N=o(9),J=o.n(N),M=o(13),Q=o.n(M),R=(o(19),o(3)),q=o(14),G=o(10),H=o(0),K=o(2),U=o(7),W=o(5),X=o(4),Y=o(6),Z=(o(12),r=R.g,n=R.e((function(){return _}),"todoListId"),i=R.d,c=function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).toISOString();return Object(H.a)(this,o),(r=e.call(this)).name=t,r.createdAt=n,Object(G.a)(r,"id",a,Object(U.a)(r)),r.todoListId=void 0,Object(G.a)(r,"todoList",u,Object(U.a)(r)),r.complete=!1,r}return Object(K.a)(o,[{key:"setComplete",value:function(){this.complete=!0}}]),o}(R.b),a=Object(Y.a)(c.prototype,"id",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Object(Y.a)(c.prototype,"todoList",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(c.prototype,"setComplete",[i],Object.getOwnPropertyDescriptor(c.prototype,"setComplete"),c.prototype),c),$=new(s=R.h("=todoListId","=complete","+createdAt"),p=function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){var t;Object(H.a)(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n)),Object(G.a)(t,"byComplete",l,Object(U.a)(t)),t}return o}(R.a),l=Object(Y.a)(p.prototype,"byComplete",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)(Z),_=(b=R.g,d=R.f((function(){return Z}),"todoListId",{sort:"+createdAt",dependent:"remove"}),j=R.e((function(){return nt}),"todoAppId"),O=R.d,y=R.i,m=R.i,f=R.d,h=R.j,v=function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(t){var r;return Object(H.a)(this,o),(r=e.call(this)).name=t,Object(G.a)(r,"id",g,Object(U.a)(r)),r.todoAppId=void 0,Object(G.a)(r,"items",L,Object(U.a)(r)),r.itemCount=0,Object(G.a)(r,"todoApp",w,Object(U.a)(r)),r}return Object(K.a)(o,[{key:"addItem",value:function(t){var e=new Z(t).addEntity();this.items.push(e)}},{key:"completeItems",get:function(){var t;return(null===(t=$.byComplete[this.id])||void 0===t?void 0:t.true)||[]}},{key:"incompleteItems",get:function(){var t;return(null===(t=$.byComplete[this.id])||void 0===t?void 0:t.false)||[]}},{key:"remove",value:function(){this.removeEntity()}},{key:"computeItemCount",value:function(){this.itemCount=this.items.length}}]),o}(R.b),g=Object(Y.a)(v.prototype,"id",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Object(Y.a)(v.prototype,"items",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=Object(Y.a)(v.prototype,"todoApp",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(v.prototype,"addItem",[O],Object.getOwnPropertyDescriptor(v.prototype,"addItem"),v.prototype),Object(Y.a)(v.prototype,"completeItems",[y],Object.getOwnPropertyDescriptor(v.prototype,"completeItems"),v.prototype),Object(Y.a)(v.prototype,"incompleteItems",[m],Object.getOwnPropertyDescriptor(v.prototype,"incompleteItems"),v.prototype),Object(Y.a)(v.prototype,"remove",[f],Object.getOwnPropertyDescriptor(v.prototype,"remove"),v.prototype),Object(Y.a)(v.prototype,"computeItemCount",[h],Object.getOwnPropertyDescriptor(v.prototype,"computeItemCount"),v.prototype),v);new(function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){return Object(H.a)(this,o),e.apply(this,arguments)}return o}(R.a))(_);var tt,et,ot,rt,nt=(C=R.g,I=R.f((function(){return _}),"todoAppId",{dependent:"remove"}),x=R.f((function(){return _}),"todoAppId",{sort:"+name"}),A=R.f((function(){return _}),"todoAppId",{sort:"+createdAt"}),k=R.f((function(){return _}),"todoAppId",{sort:"-itemCount"}),S=R.d,D=R.d,B=R.i,P=function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){var t;Object(H.a)(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n)),Object(G.a)(t,"id",V,Object(U.a)(t)),Object(G.a)(t,"todoLists",T,Object(U.a)(t)),Object(G.a)(t,"todoListsByName",z,Object(U.a)(t)),Object(G.a)(t,"todoListsByCreatedAt",E,Object(U.a)(t)),Object(G.a)(t,"todoListsByItemCount",F,Object(U.a)(t)),t.listSortOrder="byCreatedAt",t}return Object(K.a)(o,[{key:"addList",value:function(t){var e=new _(t).addEntity();this.todoLists.push(e)}},{key:"setListSortOrder",value:function(t){this.listSortOrder=t}},{key:"sortedTodoLists",get:function(){switch(this.listSortOrder){case"byName":return this.todoListsByName;case"byItemCount":return this.todoListsByItemCount;default:return this.todoListsByCreatedAt}}}]),o}(R.b),V=Object(Y.a)(P.prototype,"id",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Object(Y.a)(P.prototype,"todoLists",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(Y.a)(P.prototype,"todoListsByName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=Object(Y.a)(P.prototype,"todoListsByCreatedAt",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Object(Y.a)(P.prototype,"todoListsByItemCount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Y.a)(P.prototype,"addList",[S],Object.getOwnPropertyDescriptor(P.prototype,"addList"),P.prototype),Object(Y.a)(P.prototype,"setListSortOrder",[D],Object.getOwnPropertyDescriptor(P.prototype,"setListSortOrder"),P.prototype),Object(Y.a)(P.prototype,"sortedTodoLists",[B],Object.getOwnPropertyDescriptor(P.prototype,"sortedTodoLists"),P.prototype),P);new(function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){return Object(H.a)(this,o),e.apply(this,arguments)}return o}(R.a))(nt);var it=(tt=R.i,et=R.d,ot=R.d,rt=function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return Object(H.a)(this,o),(t=e.call(this)).value=r,t.onValue=n,t}return Object(K.a)(o,[{key:"isEmpty",get:function(){return""===this.value}},{key:"setValue",value:function(t){this.value=t}},{key:"notifyValue",value:function(){this.onValue(this.value),this.value=""}}]),o}(R.b),Object(Y.a)(rt.prototype,"isEmpty",[tt],Object.getOwnPropertyDescriptor(rt.prototype,"isEmpty"),rt.prototype),Object(Y.a)(rt.prototype,"setValue",[et],Object.getOwnPropertyDescriptor(rt.prototype,"setValue"),rt.prototype),Object(Y.a)(rt.prototype,"notifyValue",[ot],Object.getOwnPropertyDescriptor(rt.prototype,"notifyValue"),rt.prototype),rt);new(function(t){Object(W.a)(o,t);var e=Object(X.a)(o);function o(){return Object(H.a)(this,o),e.apply(this,arguments)}return o}(R.a))(it);var ct=new R.c({entities:{todo:{TodoApp:nt,TodoList:_,TodoListItem:Z,TextInput:it}},listener:function(t){return console.log(R.k(t))}}),at=Object(q.a)(ct),ut=at.useQuery,st=at.useComponentEntity,pt=o(1),lt=function(t){var e=ut((function(){return t.item}));return Object(pt.jsx)(pt.Fragment,{children:e.complete?Object(pt.jsx)(dt,{item:e}):Object(pt.jsx)(bt,{item:e})})},bt=function(t){var e=t.item;return Object(pt.jsx)("li",{children:Object(pt.jsxs)("div",{children:[e.name,Object(pt.jsx)("button",{onClick:function(){return e.setComplete()},children:"Done!"})]})})},dt=function(t){var e=t.item;return Object(pt.jsx)("li",{children:Object(pt.jsx)("div",{style:{textDecorationLine:"line-through"},children:e.name})})},jt=function(t){var e=t.onValue,o=t.caption,r=st((function(){return new it("",e)}));return Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)("input",{type:"text",value:r.value,onChange:function(t){return r.setValue(t.target.value)}}),Object(pt.jsx)("button",{disabled:r.isEmpty,onClick:function(){return r.notifyValue()},children:o})]})},Ot=function(t){var e=ut((function(){return t.todoList})),o=ut((function(){return e.incompleteItems})),r=ut((function(){return e.completeItems}));return Object(pt.jsxs)("li",{children:[Object(pt.jsxs)("div",{children:["List ",e.name,Object(pt.jsx)("button",{onClick:function(){return e.remove()},children:"Remove"})]}),Object(pt.jsxs)("ul",{children:[o.map((function(t){return Object(pt.jsx)(lt,{item:t},t.id)})),r.map((function(t){return Object(pt.jsx)(lt,{item:t},t.id)})),"Add new todo:",Object(pt.jsx)(jt,{caption:"Add Item",onValue:function(t){return e.addItem(t)}})]})]})},yt=function(t){var e=st((function(){return new nt})),o=ut((function(){return e.sortedTodoLists}));return Object(pt.jsxs)(pt.Fragment,{children:[Object(pt.jsx)("div",{children:"Todo App"}),Object(pt.jsxs)("div",{children:["Add a new Todo list:",Object(pt.jsx)(jt,{caption:"Add List",onValue:function(t){return e.addList(t)}}),Object(pt.jsxs)("div",{children:["Lists",Object(pt.jsx)("button",{onClick:function(){return e.setListSortOrder("byCreatedAt")},disabled:"byCreatedAt"===e.listSortOrder,children:"Sort By Created At"}),Object(pt.jsx)("button",{onClick:function(){return e.setListSortOrder("byName")},disabled:"byName"===e.listSortOrder,children:"Sort By Name"}),Object(pt.jsx)("button",{onClick:function(){return e.setListSortOrder("byItemCount")},disabled:"byItemCount"===e.listSortOrder,children:"Sort By Item Count"})]}),Object(pt.jsx)("ul",{children:o.map((function(t){return Object(pt.jsx)(Ot,{todoList:t},t.id)}))})]})]})};var mt=function(){return Object(pt.jsx)(yt,{})},ft=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,22)).then((function(e){var o=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,c=e.getTTFB;o(t),r(t),n(t),i(t),c(t)}))};Q.a.render(Object(pt.jsx)(J.a.StrictMode,{children:Object(pt.jsx)(mt,{})}),document.getElementById("root")),ft()}},[[21,1,2]]]);
//# sourceMappingURL=main.4504bc51.chunk.js.map